<div class="w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 h-[calc(100vh-20px)] flex flex-col">

    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 flex-shrink-0">
        <div>
            <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight">Team Directory</h1>
            <p class="text-slate-500 text-xs mt-0.5">Manage your field force.</p>
        </div>
        <div id="header-actions"></div>
    </div>

    <div
        class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm mb-4 flex flex-col md:flex-row gap-3 flex-shrink-0">
        <div class="relative flex-1">
            <i data-lucide="search" class="absolute left-3 top-2.5 w-4 h-4 text-slate-400"></i>
            <input id="user-search"
                class="w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 text-sm font-medium"
                placeholder="Search by name, email, or phone...">
        </div>
        <select id="filter-role"
            class="px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-600 focus:outline-none focus:border-blue-500 cursor-pointer">
            <option value="">All Roles</option>
            <option value="Supervisor">Supervisors</option>
            <option value="Executive">Executives</option>
            <option value="SuperAdmin">Admins</option>
        </select>
        <select id="filter-team"
            class="px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-600 focus:outline-none focus:border-blue-500 cursor-pointer">
            <option value="">All Teams</option>
        </select>
    </div>

    <div class="flex gap-6 flex-1 overflow-hidden relative">

        <div class="flex-1 flex flex-col bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">

            <div
                class="hidden md:grid grid-cols-12 gap-4 px-6 py-3 bg-slate-50 border-b border-slate-200 text-xs font-bold text-slate-400 uppercase sticky top-0 z-10">
                <div class="col-span-4">User Profile</div>
                <div class="col-span-2">Role</div>
                <div class="col-span-3">Team</div>
                <div class="col-span-2 text-center">Status</div>
                <div class="col-span-1 text-right"></div>
            </div>

            <div id="users-list-container"
                class="flex-1 overflow-y-auto custom-scroll p-2 md:p-0 space-y-2 md:space-y-0">
                <div class="text-center py-20 text-slate-400">Loading directory...</div>
            </div>

            <div
                class="p-3 border-t border-slate-100 bg-white flex justify-between items-center text-xs text-slate-500">
                <span id="user-count">0 Members</span>
            </div>
        </div>

        <div id="user-detail-drawer"
            class="hidden lg:flex w-[400px] bg-white border border-slate-200 rounded-xl shadow-xl flex-col overflow-hidden transition-all h-full">
            <div id="drawer-placeholder"
                class="h-full flex flex-col items-center justify-center text-center p-8 text-slate-400">
                <div class="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4"><i
                        data-lucide="contact" class="w-8 h-8 text-slate-300"></i></div>
                <p class="text-sm font-medium">Select a member to view details</p>
            </div>
            <div id="drawer-content" class="hidden flex-col h-full bg-white"></div>
        </div>

    </div>
</div>

<div id="tpl-confirm-modal" class="hidden">
    <div class="p-6 text-center">
        <div class="w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4"><i
                data-lucide="alert-triangle" class="w-6 h-6"></i></div>
        <h3 class="text-lg font-bold text-slate-900 mb-2" id="confirm-title">Delete User?</h3>
        <p class="text-sm text-slate-500 mb-6" id="confirm-msg">This action cannot be undone.</p>
        <div class="flex gap-3 justify-center">
            <button class="px-4 py-2 border rounded-lg text-sm font-bold" onclick="Utils.modal.close()">Cancel</button>
            <button id="confirm-btn-action"
                class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-bold">Confirm</button>
        </div>
    </div>
</div>